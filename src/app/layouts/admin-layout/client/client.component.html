
<!-- <div class="panel-header panel-header-lg"> -->

  <div class="container-fluid bg-dark">
    <div class="row">
      <div class="col-md-3">
        <img src="./assets/img/user3.jpg" alt="">
        <div class="card card-chart">
          
          <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h6 class="card-title">Admin Account</h6>
              <p class="card-text">
                Admin Account a place to manage
              </p>
              <a [routerLink]="['Admin']" (click)="getAllClients('Admin')" class="btn btn-primary">show all</a>
            </div>

        </div>
      </div>

      <div class="col-md-3">
        <img src="./assets/img/user3.jpg" alt="">
        <div class="card card-chart">
          
          <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h6 class="card-title">Fidele Account</h6>
              <p class="card-text">
                Fidele Account a place to manage
              </p>
              <a [routerLink]="['Fidele']" (click)="getAllClients('Fidele')" class="btn btn-primary">show all</a>
            </div>

        </div>
      </div>

      <div class="col-md-3">
        <img src="./assets/img/user3.jpg" alt="">
        <div class="card card-chart">
          
          <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h6 class="card-title">Ordinaire Account</h6>
              <p class="card-text">
                Ordinaire Account aplace to manage
              </p>
              <a [routerLink]="['Ordinaire']" (click)="getAllClients('Ordinaire')" class="btn btn-primary">show all</a>
            </div>

        </div>
      </div>

      <div class="col-md-3">
        <img src="./assets/img/user3.jpg" alt="">
        <div class="card card-chart">
          
          <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h6 class="card-title">Premuim Account</h6>
              <p class="card-text">
                Premuim Account a place to manage
              </p>
              <a [routerLink]="['Premuim']" (click)="getAllClients('Premuim')" class="btn btn-primary">show all</a>
            </div>

        </div>
      </div>
    </div>
  <!-- </div> -->

  <hr>

  <!---start usersList section--->
  <!-- <div class="userList">
    <div class="container">
      <div class="row row-cols-1 row-cols-md-2 g-4">
        <div class="col-md-3">
          <div class="card bg-success text-white">
            <img src=".assets/admin.png" class="card-img-top img-fluid" alt="..." />
            <div class="card-body">
              <h5 class="card-title">Admin Account</h5>
              <p class="card-text">
                An admin account has privileges to manage services for other
                people in the App.
              </p>
              <a [routerLink]="['Admin']" (click)="getAllClients('Admin')" class="btn btn-primary">show all</a>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card bg-info">
            <img src="assets/customer.png" class="card-img-top img-fluid" alt="..." />
            <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h5 class="card-title">Fidele Account</h5>
              <p class="card-text">
                Fidele Account a place to manage information about customers
              </p>
              <a [routerLink]="['Fidele']" (click)="getAllClients('Fidele')" class="btn btn-primary">show all</a>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card bg-danger text-white">
            <img src="assets/golden.png" class="card-img-top img-fluid" alt="..." />
            <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h5 class="card-title">Ordinaire Account</h5>
              <p class="card-text">
                All Ordinaire members benefit
              </p> -->
              <!-- <a [routerLink]="['./listuser','Ordinaire']" class="btn btn-primary">show all</a> -->
              <!-- <a [routerLink]="['Ordinaire']" (click)="getAllClients('Ordinaire')" class="btn btn-primary">show all</a>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="card bg-warning">
            <img src="../assets/blocked.png" class="card-img-top img-fluid" alt="..." />
            <div class="card-body">

              <div class="card card-chart">
                <div ngbDropdown>
                  <button type="button" class="
                    btn btn-round btn-default
                    dropdown-toggle
                    btn-simple btn-icon
                    no-caret
                  " ngbDropdownToggle>
                    <i class="now-ui-icons loader_gear"></i>
                  </button>
                  <div ngbDropdownMenu class="dropdown-menu-right">
                    <a class="dropdown-item" href="#" data-bs-toggle="modal"
                      data-bs-target="#affaire">Chiffre D'affaire</a>
                  </div>
                </div>
              </div>

              <h5 class="card-title">Premuim Account</h5>
              <p class="card-text">
                an Premuim account that does not allow for unlimited but instead
                has certain restrictions
              </p>
              <a [routerLink]="['Premuim']" (click)="getAllClients('Premuim')" class="btn btn-primary">show all</a>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ajouter">
        Ajouter
      </button>
    </div>
  </div> -->
</div>

<!-- <section class="container">
  <div class="row">
    <div class="col-md-12">
      <h2 class="text-white text-center">Meet Our Team Members</h2>
    </div>
    <div class="col-lg-3 col-md-4 col-sm-3">
      <div class="shadow
        d-flex
        justify-content-center
        align-items-center p-3 bg-dark rounded-lg
        flex-column
      ">
      <div class="person-img">
        <img src="golden.png" class="img-fluid rounded-circle" alt="img 1">
      </div>
      <div class="person-name my-2">
        <h3 class="text-white">Ehtesham</h3>
      </div>
      <div class="info">
        <h6 class="text-white">Web Developer</h6>
      </div>
      <div class="social-icons">
        <a href="#" class="text-white"><i class="fa fa-facebook p-2" aria-hidden="true">
        </i> 
        </a>
        <a href="#" class="text-white"><i class="fa fa-twitter p-2" aria-hidden="true">
        </i> 
        </a>
        <a href="#" class="text-white"><i class="fa fa-instagram p-2" aria-hidden="true">
        </i> 
        </a>
      </div>
    </div>
    </div>
  </div>
</section> -->

<!-- Card -->
<div class="row">
  <div class="col-lg-3 col-md-6" *ngFor="let client of list1">
    <div class="card card-chart">
      <div class="card-header">
        <i class="bi bi-star-fill" *ngIf="best(client)"></i>
        <h5 class="card-category">Client</h5>
        <h4 class="card-title">{{ client.nom }} {{nbrr}}</h4>
        <div ngbDropdown>
          <button type="button" class="
              btn btn-round btn-default
              dropdown-toggle
              btn-simple btn-icon
              no-caret
            " ngbDropdownToggle>
            <i class="now-ui-icons loader_gear"></i>
          </button>
          <div ngbDropdownMenu class="dropdown-menu-right">
            <a class="dropdown-item" href="#" (click)="getFactures(client)" data-bs-toggle="modal"
              data-bs-target="#factures">Show Factures</a>
            <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#update"
              (click)="updateClient(client, client.idClient)">Modify Cient</a>
            <a class="dropdown-item text-danger" href="#" (click)="deleteClient(client.idClient)" data-bs-toggle="modal"
              data-bs-target="#supprimer">Remove Client</a>
          </div>
        </div>
      </div>
      <div class="card-body">
        <div class="chart-area d-flex justify-content-center">
          <img src="{{ client.url }}" style="width: 250px; height: 250px" class="" alt="" />
        </div>
      </div>
      <div class="card-footer">
        <div class="stats">
          <i class="now-ui-icons arrows-1_refresh-69"></i> Just Updated
        </div>
      </div>
    </div>
  </div>
</div>


<!-- Modal Chiffre Affaire-->
<div class="modal fade" id="affaire" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Chiffre D'affaire par categorie Client</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body mx-5">
        Entrer deux dates
      </div>
      <form [formGroup]="myChiffre">

        <div class="mb-2 mx-5">
          <label for="firstDate">First Date</label>
          <input type="date" class="form-control" id="firstDate" formControlName="d1">
        </div>
        <div class="mb-2 mx-5">
          <label for="secondDate">Second Date</label>
          <input type="date" class="form-control" id="secondDate" formControlName="d2">
        </div>
        <div class="mb-2 mx-5">
          <button class="btn btn-success" (click)="getChiffreAffaire()">Calculer</button>
        </div>
        <div class="mb-4 mx-5">
          <label for="chiffre">Chiffre D'affaire</label>
          <input type="text" value="{{chiffre}}$" class="form-control" id="chiffre" readonly>
        </div>

      </form>
  
    </div>
  </div>
</div>



<!-- Modal facture Client-->
<div class="modal fade" id="factures" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">{{ count }} Factures</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered table-hover">
          <thead>
            <tr>
              <th>IDFacture</th>
              <th>Active</th>
              <th>DateFacture</th>
              <th>MontantFacture</th>
              <th>MontantRemise</th>
              <!-- <th>IDClient</th>		 -->
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let factures of listFactures">
              <td>{{ factures.idFacture }}</td>
              <td>{{ factures.active }}</td>
              <td>{{ factures.dateFacture }}</td>
              <td>{{ factures.montantFacture }}</td>
              <td>{{ factures.montantRemise }}</td>
              <!-- <td>{{factures.client.idClient}}</td> -->
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Annuler
        </button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">
          Print
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Update Client -->
<div class="modal fade" id="update" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modifier Client</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="userForm">
          <div class="mb-3">
            <label for="id" class="form-label">ID</label>
            <input type="text" class="form-control" id="id" formControlName="IdCustomer" readonly />
          </div>

          <div class="mb-3">
            <label for="first" class="form-label">First Name</label>
            <input type="text" class="form-control" id="first" formControlName="firstName" />
          </div>
          <div class="mb-3">
            <label for="last" class="form-label">Last Name</label>
            <input type="text" class="form-control" id="last" formControlName="lastName" />
          </div>
          <div class="mb-3">
            <label for="exampleInputEmail1" class="form-label">Email address</label>
            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
              formControlName="email" />
            <div id="emailHelp" class="form-text">
              We'll never share your email with anyone else.
            </div>
          </div>
          <div class="mb-3">
            <label for="pass" class="form-label">Password</label>
            <input type="text" class="form-control" id="pass" formControlName="password" />
          </div>

          <div class="mb-3">
            <label for="categorie" class="form-label">Category</label>

            <select class="form-select mt-1" name="categorie" formControlName="categorie"
              aria-label="Default select example">
              <option value="Premuim">Premuim</option>
              <option value="Ordinaire">Ordinaire</option>
              <option value="Fidele">Fidele</option>
            </select>
          </div>

          <div class="mb-3">
            <label for="birth" class="form-label">Birthday</label>
            <input type="date" class="form-control" id="birth" formControlName="birthDate" />
          </div>
          <div class="mb-3">
            <label for="job" class="form-label">Profession</label>
            <input type="text" class="form-control" id="job" formControlName="profession" />
          </div>

          <div class="mb-3">
            <label for="image" class="form-label">Image</label>
            <input type="text" class="form-control" id="image" formControlName="url" />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Close
        </button>
        <button type="button" class="btn btn-primary" (click)="update()">
          Update
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Delete Client-->
<div class="modal fade" id="supprimer" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Supprimer Client</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Êtes-vous sûr de vouloir supprimer cet Client?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Annuler
        </button>
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="oui()">
          Oui
        </button>
      </div>
    </div>
  </div>
</div>